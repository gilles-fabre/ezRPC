<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RPC: &lt;small&gt;nlohmann::basic_json::&lt;/small&gt;binary_t</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RPC
   </div>
   <div id="projectbrief">EZ RPC C++ Windows/Linux interop</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_dev_2ez_r_p_c_2_r_p_c_2json_2docs_2mkdocs_2docs_2api_2basic__json_2binary__t.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">&lt;small&gt;nlohmann::basic_json::&lt;/small&gt;binary_t</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md151"></a> </p><div class="fragment"><div class="line"><span class="keyword">using </span>binary_t = <a class="code hl_class" href="classbyte__container__with__subtype.html">byte_container_with_subtype&lt;BinaryType&gt;</a>;</div>
<div class="ttc" id="aclassbyte__container__with__subtype_html"><div class="ttname"><a href="classbyte__container__with__subtype.html">byte_container_with_subtype</a></div><div class="ttdoc">an internal type for a backed binary type</div><div class="ttdef"><b>Definition</b> <a href="byte__container__with__subtype_8hpp_source.html#l00022">byte_container_with_subtype.hpp:23</a></div></div>
</div><!-- fragment --><p>This type is a type designed to carry binary data that appears in various serialized formats, such as CBOR's Major Type 2, MessagePack's bin, and BSON's generic binary subtype. This type is NOT a part of standard JSON and exists solely for compatibility with these binary types. As such, it is simply defined as an ordered sequence of zero or more byte values.</p>
<p>Additionally, as an implementation detail, the subtype of the binary data is carried around as a <code>std::uint64_t</code>, which is compatible with both of the binary data formats that use binary subtyping, (though the specific numbering is incompatible with each other, and it is up to the user to translate between them). The subtype is added to <code>BinaryType</code> via the helper type <a class="el" href="md__c_1_2_dev_2ez_r_p_c_2_r_p_c_2json_2docs_2mkdocs_2docs_2api_2byte__container__with__subtype_2index.html">byte_container_with_subtype</a>.</p>
<p><a href="https://tools.ietf.org/html/rfc7049">CBOR's RFC 7049</a> describes this type as: </p><blockquote class="doxtable">
<p>&zwj;Major type 2: a byte string. The string's length in bytes is represented following the rules for positive integers (major type 0). </p>
</blockquote>
<p><a href="https://github.com/msgpack/msgpack/blob/master/spec.md#bin-format-family">MessagePack's documentation on the bin type family</a> describes this type as: </p><blockquote class="doxtable">
<p>&zwj;Bin format family stores a byte array in 2, 3, or 5 bytes of extra bytes in addition to the size of the byte array. </p>
</blockquote>
<p><a href="http://bsonspec.org/spec.html">BSON's specifications</a> describe several binary types; however, this type is intended to represent the generic binary type which has the description: </p><blockquote class="doxtable">
<p>&zwj;Generic binary subtype - This is the most commonly used binary subtype and should be the 'default' for drivers and tools. </p>
</blockquote>
<p>None of these impose any limitations on the internal representation other than the basic unit of storage be some type of array whose parts are decomposable into bytes.</p>
<p>The default representation of this binary format is a <code>#!cpp std::vector&lt;std::uint8_t&gt;</code>, which is a very common way to represent a byte array in modern C++.</p>
<h1><a class="anchor" id="autotoc_md152"></a>
Template parameters</h1>
<p><code>BinaryType</code> : container type to store arrays</p>
<h1><a class="anchor" id="autotoc_md153"></a>
Notes</h1>
<h3><a class="anchor" id="autotoc_md154"></a>
Default type</h3>
<p>The default values for <code>BinaryType</code> is <code>#!cpp std::vector&lt;std::uint8_t&gt;</code>.</p>
<h3><a class="anchor" id="autotoc_md155"></a>
Storage</h3>
<p>Binary Arrays are stored as pointers in a <code><a class="el" href="classbasic__json.html" title="namespace for Niels Lohmann">basic_json</a></code> type. That is, for any access to array values, a pointer of the type <code>#!cpp binary_t*</code> must be dereferenced.</p>
<h3><a class="anchor" id="autotoc_md156"></a>
Notes on subtypes</h3>
<ul>
<li>CBOR<ul>
<li>Binary values are represented as byte strings. Subtypes are written as tags.</li>
</ul>
</li>
<li>MessagePack<ul>
<li>If a subtype is given and the binary array contains exactly 1, 2, 4, 8, or 16 elements, the fixext family (fixext1, fixext2, fixext4, fixext8) is used. For other sizes, the ext family (ext8, ext16, ext32) is used. The subtype is then added as signed 8-bit integer.</li>
<li>If no subtype is given, the bin family (bin8, bin16, bin32) is used.</li>
</ul>
</li>
<li>BSON<ul>
<li>If a subtype is given, it is used and added as unsigned 8-bit integer.</li>
<li>If no subtype is given, the generic binary subtype 0x00 is used.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md157"></a>
Examples</h1>
<p>??? example </p><pre class="fragment">The following code shows that `binary_t` is by default, a typedef to
`#!cpp nlohmann::byte_container_with_subtype&lt;std::vector&lt;std::uint8_t&gt;&gt;`.

```cpp
--8&lt;-- "examples/binary_t.cpp"
```

Output:

```json
--8&lt;-- "examples/binary_t.output"
```
</pre> <h1><a class="anchor" id="autotoc_md158"></a>
See also</h1>
<ul>
<li><a class="el" href="md__c_1_2_dev_2ez_r_p_c_2_r_p_c_2json_2docs_2mkdocs_2docs_2api_2byte__container__with__subtype_2index.html">byte_container_with_subtype</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md159"></a>
Version history</h1>
<ul>
<li>Added in version 3.8.0. Changed type of subtype to <code>std::uint64_t</code> in version 3.10.0. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
